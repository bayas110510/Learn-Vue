<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="app">
        <input type="button" value="get请求" @click="getInfo">
        <input type="button" value="post请求" @click="postInfo">
        <input type="button" value="jsonp请求" @click="jsonpInfo">
    </div>

    <script src="../vue.js"></script>
    <!-- 引入vue-resource -->
    <script src="https://cdn.staticfile.org/vue-resource/1.5.1/vue-resource.min.js"></script>
    <!-- 引入axios -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        var vm = new Vue({
            el:'#app',
            data:{

            },
            methods: {
                //  当发起get请求之后 通过 .then 来设置成功的回调函数
                getInfo(){  //发送get请求
                    // vue-resource 发起 get请求
                    // this.$http.get('http://jsonplaceholder.typicode.com/posts').then(function(res){
                    //     console.log(res);
                    // })

                    //  axios 发起 get请求 
                    axios.get('http://jsonplaceholder.typicode.com/posts').then(function(response){
                        console.log(response);
                        console.log(response.data)
                    }).catch(function(error){
                        console.log('报错了'+error);
                    })
                },

                postInfo(){  //发送post请求
                // 手动发起的 post 请求 默认没有表单格式 所以 有的服务器处理不了
                // 通过 post 方法的第三个参数 { emulateJSON: true }设置 提交的内容类型 为 普通表单数据格式
                // vue-resource 发起 post请求
                    // this.$http.post('http://jsonplaceholder.typicode.com/posts',{},{ emulateJSON: true }).then(res=>{
                    //     console.log('post请求已发起'+res)
                    // }) 

                    // axios  发起 post请求
                    axios.post('http://jsonplaceholder.typicode.com/posts',{name:'bayas',girl:'tunnl'},{ emulateJSON: true }).then( res=>{
                        console.log(res)
                    })
                },
                
                
                jsonpInfo(){ //发起jsonp请求
                    // vue-resource 发起jsonp请求
                        this.$http.jsonp('https://api.asilu.com/cloud-music/163/').then(res=>{
                            console.log(res)
                        })

                        // axios 发起jsonp请求
                        // axios.jsonp('https://api.asilu.com/cloud-music/163/').then(res=>{
                        //     console.log(res)
                        // })
                }
            } 
        })
    </script>
</body>
</html>